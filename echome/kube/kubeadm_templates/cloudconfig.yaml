#cloud-config
chpasswd: {expire: false}
ssh_pwauth: false
ssh_authorized_keys:
- ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC3RLyBbu6hL57oQV3WoIEsJFkYyIAVHiH405GU8It1HLC3NXH+tGzJLYKTTbvGwJPdIFAWVMOcv97xxfQjhK2+7cMCxdrYReeL3yBv3KUANYgbBaoOcg0ZC05WI4vB+qfdDzpygzIe2sTO7rM0/58qttt4lQbJdVNq8S1rGEyuhTMRZEVwc84U5Jj+dsDgPmryTp49WwlKwzc3sI2NkmJcBoGdyptbcyX/OssyaKk+cY4ImXQb2q2lfpfSXN/yQw6BgO4lXfQBmc6jf13TeZo9ltJCZZ9v9PDs5ttmZouwOIJwQxwzGgXPYVJFtg0Vaz9CSFQjgpONl5Z8+PE94oIT
write_files:
- encoding: b64
  content: ewogICAgImNvbnRyb2xsZXJfaXAiOiAiMTcyLjE2LjkuOTAiLAogICAgImNsdXN0ZXJfbmFtZSI6ICJrdWJlLTAxMjM0NTY3IiwKICAgICJjbHVzdGVyX3ZlcnNpb24iOiAiMS4yMi4wIiwKICAgICJjbHVzdGVyX3NlcnZpY2Vfc3VibmV0IjogIjEwLjk2LjAuMC8xMiIsCiAgICAidG9rZW5fdHRsIjogIjBoMW0wcyIKfQo=
  owner: root:root
  path: /root/cluster_info.yaml
  permissions: '0644'
- encoding: b64
  content: IyEvYmluL2Jhc2gKCmFwdCB1cGRhdGUgJiYgYXB0IHVwZ3JhZGUgLXkKCmFwdCBpbnN0YWxsIHB5dGhvbjMtcGlwIC15CnBpcCBpbnN0YWxsIGoyY2xpCgojIEdlbmVyYXRlIHRoZSBrdWJlYWRtIGNvbmZpZyBmaWxlCktVQkVBRE1fVE9LRU49JChrdWJlYWRtIHRva2VuIGdlbmVyYXRlKQpleHBvcnQgS1VCRUFETV9UT0tFTgpqMiAtZiB5YW1sIC9yb290L2t1YmVhZG1fdGVtcGxhdGUueWFtbCAvcm9vdC9jbHVzdGVyX2luZm8ueWFtbCAtbyAvcm9vdC9rdWJlX2luaXQueWFtbAoKIyBJbml0IHRoZSBjbHVzdGVyLCBza2lwcGluZyBjZXJ0cwprdWJlYWRtIGluaXQgLS1jb25maWcgL3Jvb3Qva3ViZV9pbml0LnlhbWwK
  owner: root:root
  path: /root/init_kube_debian.sh
  permissions: '0775'
- encoding: b64
  content: YXBpVmVyc2lvbjoga3ViZWFkbS5rOHMuaW8vdjFiZXRhMwpraW5kOiBJbml0Q29uZmlndXJhdGlvbgpib290c3RyYXBUb2tlbnM6Ci0gZ3JvdXBzOgogIC0gc3lzdGVtOmJvb3RzdHJhcHBlcnM6a3ViZWFkbTpkZWZhdWx0LW5vZGUtdG9rZW4KICB0b2tlbjoge3sgZW52KCJLVUJFQURNX1RPS0VOIikgfX0KICB0dGw6IHt7IHRva2VuX3R0bCB9fQogIHVzYWdlczoKICAtIHNpZ25pbmcKICAtIGF1dGhlbnRpY2F0aW9uCmxvY2FsQVBJRW5kcG9pbnQ6CiAgYWR2ZXJ0aXNlQWRkcmVzczoge3sgY29udHJvbGxlcl9pcCB9fQogIGJpbmRQb3J0OiA2NDQzCm5vZGVSZWdpc3RyYXRpb246CiMgIGNyaVNvY2tldDogL3Zhci9ydW4vZG9ja2Vyc2hpbS5zb2NrCiAgaW1hZ2VQdWxsUG9saWN5OiBJZk5vdFByZXNlbnQKICBuYW1lOiB7eyBlbnYoIkhPU1ROQU1FIikgfX0KICB0YWludHM6IG51bGwKLS0tCmFwaVZlcnNpb246IGt1YmVhZG0uazhzLmlvL3YxYmV0YTMKa2luZDogQ2x1c3RlckNvbmZpZ3VyYXRpb24KYXBpU2VydmVyOgogIHRpbWVvdXRGb3JDb250cm9sUGxhbmU6IDRtMHMKIyBjZXJ0aWZpY2F0ZXNEaXI6IApjbHVzdGVyTmFtZToge3sgY2x1c3Rlcl9uYW1lIH19CmNvbnRyb2xsZXJNYW5hZ2VyOiB7fQpkbnM6IHt9CmV0Y2Q6CiAgbG9jYWw6CiAgICBkYXRhRGlyOiAvdmFyL2xpYi9ldGNkCmltYWdlUmVwb3NpdG9yeTogazhzLmdjci5pbwprdWJlcm5ldGVzVmVyc2lvbjoge3sgY2x1c3Rlcl92ZXJzaW9uIH19ICMxLjIyLjAKbmV0d29ya2luZzoKICBkbnNEb21haW46IGNsdXN0ZXIubG9jYWwKICBzZXJ2aWNlU3VibmV0OiB7eyBjbHVzdGVyX3NlcnZpY2Vfc3VibmV0IH19ICMxMC45Ni4wLjAvMTIKc2NoZWR1bGVyOiB7fQojIC0tLQojIGFwaVZlcnNpb246IGt1YmVhZG0uazhzLmlvL3YxYmV0YTEKIyBraW5kOiBKb2luQ29uZmlndXJhdGlvbgojIGRpc2NvdmVyeToKIyAgIGJvb3RzdHJhcFRva2VuOgojICAgICBhcGlTZXJ2ZXJFbmRwb2ludDoge3sgY29udHJvbGxlcl9pcCB9fQojICAgICB0b2tlbjogCiMgICAgIGNhQ2VydEhhc2hlczoKIyAgICAgLSAke2NhX2NlcnRfaGFzaH0K
  owner: root:root
  path: /root/kubeadm_template.yaml
  permissions: '0644'
runcmd:
 - [ /root/init_kube_debian.sh ]
